<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Shipping Options & Add-ons</title>
  <style>
    body {
      background: #f7f8fa;
      font-family: 'Segoe UI', Arial, sans-serif;
      margin: 0;
      padding: 0;
    }
    .shipping-addon-container {
      margin: 20px auto 0 auto;
      max-width: 430px;
      background: #fff;
      box-shadow: 0 2px 12px rgba(31,35,40,0.07);
      border-radius: 12px;
      padding: 28px 28px 24px 28px;
      display: flex;
      flex-direction: column;
      gap: 26px;
      position: relative;
      top: 0;
    }

    .shipping-addon-container h2 {
      font-size: 1.35rem;
      font-weight: 600;
      margin-bottom: 14px;
      letter-spacing: 0.01em;
      color: #232529;
    }
    .shipping-options {
      display: flex;
      flex-direction: column;
      gap: 14px;
    }
    .shipping-option {
      display: flex;
      align-items: center;
      padding: 13px 16px;
      border-radius: 8px;
      background: #f0f1f5;
      border: 2px solid transparent;
      cursor: pointer;
      transition: border 0.18s;
      position: relative;
    }
    .shipping-option.selected {
      border: 2px solid #2366e8;
      background: #e6f0ff;
    }
    .shipping-option input[type="radio"] {
      accent-color: #2366e8;
      margin-right: 14px;
      width: 22px;
      height: 22px;
      cursor: pointer;
    }
    .shipping-info {
      display: flex;
      flex-direction: column;
      flex: 1;
    }
    .shipping-title {
      font-size: 1.03rem;
      font-weight: 500;
      color: #232529;
    }
    .shipping-desc {
      font-size: 0.97rem;
      color: #6a7686;
      margin-top: 2px;
    }
    .shipping-price {
      font-size: 1.04rem;
      font-weight: 500;
      color: #2366e8;
      margin-left: 16px;
      white-space: nowrap;
    }
    .add-ons-section {
      margin-top: 4px;
    }
    .add-ons-title {
      font-size: 1.1rem;
      font-weight: 500;
      color: #232529;
      margin-bottom: 11px;
    }
    .add-on-list {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .add-on-item {
      display: flex;
      align-items: center;
      background: #f6f8fa;
      border-radius: 7px;
      padding: 10px 14px;
      position: relative;
    }
    .add-on-item input[type="checkbox"] {
      accent-color: #2366e8;
      width: 21px;
      height: 21px;
      margin-right: 13px;
      cursor: pointer;
    }
    .addon-name {
      font-size: 0.98rem;
      color: #232529;
      font-weight: 500;
    }
    .addon-price {
      font-size: 0.97rem;
      color: #4f617c;
      margin-left: auto;
      font-weight: 500;
    }
    .addon-desc {
      font-size: 0.95rem;
      color: #848fa2;
      margin-left: 34px;
      line-height: 1.25;
    }
    .update-summary {
      margin-top: 10px;
      padding: 11px 0 0 0;
      border-top: 1px dashed #e3e6ed;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .summary-label {
      font-size: 1.04rem;
      color: #232529;
      font-weight: 500;
    }
    .summary-total {
      font-size: 1.07rem;
      font-weight: 700;
      color: #1e3784;
    }
    .cta-btn {
      margin-top: 22px;
      width: 100%;
      background: #2366e8;
      color: #fff;
      border: none;
      padding: 14px 0;
      font-size: 1.09rem;
      font-weight: 600;
      border-radius: 8px;
      cursor: pointer;
      transition: background .14s;
      box-shadow: 0 1px 4px rgba(43,51,62,0.07);
      outline: none;
    }
    .cta-btn:active, .cta-btn:focus {
      background: #184db1;
    }
    .cta-btn:disabled {
      background: #b4c7e0;
      cursor: not-allowed;
    }
    .addon-help {
      font-size: 0.94rem;
      color: #a3aac2;
      margin-top: 6px;
      padding-left: 2px;
    }
    /* Feedback styles for focus/interaction */
    .shipping-option:focus-within, .add-on-item:focus-within {
      outline: 2px solid #2366e8;
      outline-offset: 1px;
    }
    /* Responsive */
    @media (max-width: 540px) {
      .shipping-addon-container {
        max-width: 97vw;
        padding: 20px 7vw 20px 7vw;
      }
    }
  </style>
</head>
<body>
  <div class="shipping-addon-container" tabindex="-1">
    <h2>Select Shipping Method</h2>
    <div class="shipping-options">
      <label class="shipping-option selected" tabindex="0">
        <input type="radio" name="shipping" value="standard" checked>
        <div class="shipping-info">
          <span class="shipping-title">Standard Shipping</span>
          <span class="shipping-desc">Arrives in 5-7 business days</span>
        </div>
        <span class="shipping-price">$4.99</span>
      </label>
      <label class="shipping-option" tabindex="0">
        <input type="radio" name="shipping" value="express">
        <div class="shipping-info">
          <span class="shipping-title">Express Shipping</span>
          <span class="shipping-desc">Arrives in 1-2 business days</span>
        </div>
        <span class="shipping-price">$13.99</span>
      </label>
      <label class="shipping-option" tabindex="0">
        <input type="radio" name="shipping" value="pickup">
        <div class="shipping-info">
          <span class="shipping-title">Store Pickup</span>
          <span class="shipping-desc">Ready in 2 hours at your local store</span>
        </div>
        <span class="shipping-price">FREE</span>
      </label>
    </div>

    <div class="add-ons-section">
      <div class="add-ons-title">Optional Add-ons</div>
      <div class="add-on-list">
        <label class="add-on-item" tabindex="0">
          <input type="checkbox" name="addon" value="insurance">
          <span class="addon-name">Shipping Insurance</span>
          <span class="addon-price">$1.99</span>
        </label>
        <div class="addon-desc">Protect your order from loss, theft, or damage in transit.</div>
        
        <label class="add-on-item" tabindex="0">
          <input type="checkbox" name="addon" value="gift-wrap">
          <span class="addon-name">Gift Wrapping</span>
          <span class="addon-price">$3.50</span>
        </label>
        <div class="addon-desc">Beautiful gift packaging and a custom message card.</div>

        <label class="add-on-item" tabindex="0">
          <input type="checkbox" name="addon" value="priority-support">
          <span class="addon-name">Priority Customer Support</span>
          <span class="addon-price">$2.50</span>
        </label>
        <div class="addon-desc">Get priority assistance if you need help with your order.</div>
      </div>
      <div class="addon-help">You can select more than one add-on.</div>
    </div>

    <div class="update-summary">
      <span class="summary-label">Total Shipping & Add-ons:</span>
      <span class="summary-total" id="summaryTotal">$4.99</span>
    </div>
    <button class="cta-btn" id="confirmShippingBtn">Continue to Payment</button>
  </div>

  <script>
    // JavaScript for selection feedback and updating summary (minimal and accessible)
    const shippingOptions = document.querySelectorAll('.shipping-option');
    const shippingRadios = document.querySelectorAll('input[type=radio][name=shipping]');
    const addonCheckboxes = document.querySelectorAll('input[type=checkbox][name=addon]');
    const summaryTotal = document.getElementById('summaryTotal');
    const confirmShippingBtn = document.getElementById('confirmShippingBtn');

    // Prices for calculation
    const shippingPrices = {
      'standard': 4.99,
      'express': 13.99,
      'pickup': 0.00,
    };
    const addOnPrices = {
      'insurance': 1.99,
      'gift-wrap': 3.50,
      'priority-support': 2.50
    };
    // Selection
    function updateShippingVisuals() {
      shippingOptions.forEach(option => {
        option.classList.remove('selected');
        if(option.querySelector('input[type=radio]').checked) {
          option.classList.add('selected');
        }
      });
      updateSummary();
    }
    function updateSummary() {
      let selShipping = document.querySelector('input[name=shipping]:checked').value;
      let shippingCost = shippingPrices[selShipping];
      let addonCost = 0;
      addonCheckboxes.forEach(cb => {
        if(cb.checked) addonCost += addOnPrices[cb.value];
      });
      let total = shippingCost + addonCost;
      summaryTotal.textContent = (total === 0 ? 'FREE' : `$${total.toFixed(2)}`);
    }
    // Set up listeners
    shippingRadios.forEach(radio => {
      radio.addEventListener('change', updateShippingVisuals);
    });
    addonCheckboxes.forEach(cb => {
      cb.addEventListener('change', updateSummary);
    });
    // Prevent continuing if no shipping is selected (shouldn't happen)
    confirmShippingBtn.addEventListener('click', function(){
      if(!document.querySelector('input[name=shipping]:checked')) {
        confirmShippingBtn.disabled = true;
        setTimeout(()=>{confirmShippingBtn.disabled = false;}, 1500);
      }
    });
    // Initialize view
    updateShippingVisuals();
  </script>
  <!--
*****Response*****
Question 1: The widget is a vivid, modern box centered at the top with rounded corners, subtle shadow, and 20px top margin. It’s 430px wide with clear titles and grouping. Each shipping option is a selectable row: rounded, color-highlighted on select, with radio input, description, and price. Add-ons are below, each with checkboxes, labels, and concise description lines. Total cost updates live, styled in prominent color. The primary button is large, bold, and blue, with state feedback. All padding, colors (#2366e8 for blue, light neutrals for backgrounds), font-sizes (~1rem), and layout follow ecommerce best practices for clarity, hierarchy, and usability.

Question 2: The widget appears at the top of the checkout or cart page, as soon as the user needs to make shipping choices before completing their checkout. It’s positioned with a 20px margin from the top viewport, so it’s immediately visible after the user adds an item to their cart and proceeds toward order completion.

Question 3: Users can 1) choose one shipping method with a radio button (highlighted row); 2) select any add-ons via checkboxes; 3) observe total price updating automatically; 4) “Continue to Payment” only when a method is chosen; 5) see feedback via selection highlights and button states. Focus and keyboard navigation for accessibility is supported. 
-->
</html>